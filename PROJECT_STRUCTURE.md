# Project Structure

```
DONUTS-and-Fractals/
│
├── 📄 main.py                      # Главный файл приложения - точка входа
├── 📄 config.json                  # Конфигурация приложения
├── 📄 requirements.txt             # Зависимости Python
├── 📄 LICENSE                      # MIT лицензия
├── 📄 .gitignore                   # Игнорируемые файлы для Git
│
├── 📚 Documentation/               # Документация
│   ├── README.md                   # Основная документация
│   ├── QUICKSTART.md              # Быстрый старт
│   ├── INSTALL.md                 # Руководство по установке
│   ├── USER_GUIDE.md              # Руководство пользователя
│   ├── FAQ.md                     # Часто задаваемые вопросы
│   ├── EXAMPLES.md                # Примеры использования
│   ├── CONTRIBUTING.md            # Руководство для контрибьюторов
│   └── CHANGELOG.md               # История изменений
│
├── 🎨 src/                        # Исходный код
│   ├── __init__.py
│   │
│   ├── 🖼️ ui/                     # Пользовательский интерфейс
│   │   ├── __init__.py
│   │   ├── main_window.py         # Главное окно приложения
│   │   ├── donut_button.py        # Виджет кнопки-пончика
│   │   └── fractal_viewer.py      # Виджет просмотра фракталов
│   │
│   ├── 🌀 fractals/               # Реализации фракталов
│   │   ├── __init__.py
│   │   ├── fractal_registry.py    # Реестр всех фракталов
│   │   │
│   │   ├── fractal_2d/            # 2D фракталы
│   │   │   ├── __init__.py
│   │   │   ├── mandelbrot.py      # Множество Мандельброта
│   │   │   ├── julia.py           # Множество Жюлиа
│   │   │   ├── burning_ship.py    # Burning Ship
│   │   │   ├── newton.py          # Фрактал Ньютона
│   │   │   ├── phoenix.py         # Phoenix фрактал
│   │   │   ├── tricorn.py         # Tricorn/Mandelbar
│   │   │   ├── barnsley_fern.py   # Папоротник Барнсли
│   │   │   ├── sierpinski.py      # Треугольник Серпинского
│   │   │   ├── dragon.py          # Кривая дракона
│   │   │   ├── koch.py            # Снежинка Коха
│   │   │   ├── apollonian.py      # Аполлониева прокладка
│   │   │   ├── lyapunov.py        # Фрактал Ляпунова
│   │   │   ├── bifurcation.py     # Диаграмма бифуркации
│   │   │   ├── hilbert.py         # Кривая Гильберта
│   │   │   └── gosper.py          # Кривая Госпера
│   │   │
│   │   └── fractal_3d/            # 3D фракталы
│   │       ├── __init__.py
│   │       ├── mandelbulb.py      # Mandelbulb
│   │       ├── menger.py          # Губка Менгера
│   │       ├── sierpinski_3d.py   # Пирамида Серпинского
│   │       ├── julia_3d.py        # 3D Julia
│   │       ├── quaternion.py      # Quaternion Julia
│   │       ├── mandelbox.py       # Mandelbox
│   │       ├── klein.py           # Бутылка Клейна
│   │       ├── lorenz.py          # Аттрактор Лоренца
│   │       ├── cube.py            # Кубический фрактал
│   │       ├── dodecahedron.py    # Додекаэдр
│   │       ├── icosahedron.py     # Икосаэдр
│   │       ├── tree.py            # 3D дерево
│   │       ├── apollonian_3d.py   # Аполлонова сфера
│   │       ├── tetrahedron.py     # Тетраэдр
│   │       └── octahedron.py      # Октаэдр
│   │
│   ├── 🎨 rendering/              # Рендеринг
│   │   ├── __init__.py
│   │   ├── renderer_2d.py         # Рендерер для 2D фракталов
│   │   └── renderer_3d.py         # Рендерер для 3D фракталов (ray marching)
│   │
│   └── 🔧 utils/                  # Утилиты
│       ├── __init__.py
│       ├── config_loader.py       # Загрузчик конфигурации
│       ├── colors.py              # Цветовые палитры
│       ├── math_utils.py          # Математические утилиты
│       └── export.py              # Экспорт изображений
│
├── 🎭 assets/                     # Ресурсы
│   ├── icons/                     # Иконки
│   ├── fonts/                     # Шрифты
│   └── textures/                  # Текстуры
│
├── 📸 screenshots/                # Скриншоты
│   └── examples/                  # Примеры изображений
│
├── 🧪 tests/                      # Тесты (будут добавлены)
│   ├── __init__.py
│   ├── test_fractals_2d.py
│   ├── test_fractals_3d.py
│   ├── test_rendering.py
│   └── test_ui.py
│
├── 📝 docs/                       # Дополнительная документация
│   ├── images/                    # Изображения для документации
│   ├── api/                       # API документация
│   └── tutorials/                 # Туториалы
│
└── 🔄 .github/                    # GitHub конфигурация
    └── workflows/                 # GitHub Actions
        └── test.yml               # CI/CD pipeline
```

## Описание ключевых файлов

### Главные файлы

- **main.py** - Точка входа в приложение. Запускает PyQt приложение и открывает главное окно.
- **config.json** - Конфигурация всех параметров: окна, рендеринга, цветов, управления.
- **requirements.txt** - Все необходимые Python зависимости.

### Исходный код (src/)

#### UI компоненты
- **main_window.py** - Главное окно с меню фракталов и переключением на просмотр
- **donut_button.py** - Кастомная кнопка в виде пончика для выбора фрактала
- **fractal_viewer.py** - Интерактивный просмотрщик с управлением и настройками

#### Фракталы
- **fractal_registry.py** - Центральный реестр всех доступных фракталов
- **fractal_2d/** - Реализации 15 различных 2D фракталов
- **fractal_3d/** - Реализации 15 различных 3D фракталов

#### Рендеринг
- **renderer_2d.py** - Быстрый рендеринг 2D фракталов с использованием NumPy/Numba
- **renderer_3d.py** - 3D рендеринг с использованием ray marching алгоритма

#### Утилиты
- **config_loader.py** - Загрузка и сохранение конфигурации
- **colors.py** - Управление цветовыми схемами и палитрами
- **math_utils.py** - Математические функции и константы
- **export.py** - Экспорт изображений в различные форматы

### Документация

- **README.md** - Главная документация проекта
- **QUICKSTART.md** - Быстрый старт за 3 шага
- **INSTALL.md** - Детальная инструкция по установке
- **USER_GUIDE.md** - Полное руководство пользователя
- **FAQ.md** - Ответы на частые вопросы
- **EXAMPLES.md** - Практические примеры использования
- **CONTRIBUTING.md** - Гайд для контрибьюторов
- **CHANGELOG.md** - История версий и изменений

## Технологический стек

### Frontend
- **PyQt6** - Современный GUI фреймворк
- **Custom Widgets** - Уникальные виджеты (пончики)

### Математика и вычисления
- **NumPy** - Высокопроизводительные вычисления
- **Numba** - JIT компиляция для ускорения
- **SciPy** - Дополнительные математические функции

### 3D Графика
- **PyOpenGL** - OpenGL биндинги для Python
- **ModernGL** - Современный OpenGL интерфейс
- **VisPy** - Научная визуализация

### Обработка изображений
- **Pillow (PIL)** - Загрузка и сохранение изображений
- **OpenCV** - Продвинутая обработка изображений
- **Matplotlib** - Цветовые палитры

### Утилиты
- **Requests** - HTTP запросы
- **PSUtil** - Системная информация

## Архитектурные решения

### MVC Pattern
- **Model**: Фракталы и их вычисления
- **View**: PyQt UI компоненты
- **Controller**: Event handlers и логика приложения

### Registry Pattern
Используется для управления фракталами - позволяет легко добавлять новые фракталы без изменения основного кода.

### Strategy Pattern
Разные рендереры (2D и 3D) реализуют общий интерфейс, что позволяет легко переключаться между ними.

### Observer Pattern
UI компоненты реагируют на изменения в модели (параметры фракталов, zoom, позиция).

## Расширяемость

Проект спроектирован для легкого расширения:

### Добавление нового 2D фрактала
1. Создать файл в `src/fractals/fractal_2d/`
2. Реализовать класс с методом `calculate()`
3. Зарегистрировать в `fractal_registry.py`

### Добавление нового 3D фрактала
1. Создать файл в `src/fractals/fractal_3d/`
2. Реализовать distance estimator
3. Зарегистрировать в `fractal_registry.py`

### Добавление цветовой схемы
1. Добавить схему в `config.json`
2. Реализовать mapping в `colors.py`

## Производительность

### Оптимизации
- **JIT компиляция** с Numba для критических циклов
- **Векторизация** NumPy операций
- **Кэширование** результатов
- **Ленивая загрузка** фракталов
- **Асинхронный рендеринг** (опционально)

### Профилирование
Используйте встроенные инструменты:
```bash
python -m cProfile -o profile.stats main.py
```

## Безопасность

- Валидация пользовательского ввода
- Ограничения на итерации (предотвращение зависаний)
- Безопасная загрузка конфигурации

## Лицензия

MIT License - см. [LICENSE](LICENSE)

---

**Designed with ❤️ and 🍩 for the fractal community**
